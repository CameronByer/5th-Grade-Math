{"version":3,"sources":["App.js","index.js"],"names":["choice","choices","Math","floor","random","length","randomInt","x","y","Question","props","changeGuess","guess","isNaN","setState","submitGuess","state","newStreak","streak","answer","toString","generate","getSelectedProblems","keyHandler","e","console","log","nativeEvent","key","slice","includes","checkSubmit","document","addEventListener","this","removeEventListener","problemType","value","updatedProblemTypes","problemTypes","selected","push","level","options","modifiers","type","toLowerCase","question","shift","maxDigits","log10","max","min","abs","place","negPlaceNames","posPlaceNames","placeName","digits","decimalIndex","decimalString","digit","round","parseFloat","View","style","flexDirection","flexWrap","Object","keys","map","Pressable","onPress","updateCheckbox","Text","styles","toggleable","color","bigCenter","TextInput","onChangeText","onKeyPress","placeholder","keyboardType","submitContainer","submit","Component","event","keyCode","StyleSheet","create","container","flex","backgroundColor","alignItems","justifyContent","fontSize","fontWeight","padding","textAlign","borderRadius","paddingHorizontal","paddingVertical","registerRootComponent","StatusBar"],"mappings":"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","file":"static/js/app.53f33e0c.chunk.js","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, { Component, Fragment } from 'react'\r\nimport {\r\n  Pressable,\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  View,\r\n} from 'react-native'\r\n\r\nfunction choice(choices) {\r\n  var index = Math.floor(Math.random() * choices.length);\r\n  return choices[index];\r\n}\r\n\r\nconst randomInt = (x, y) => {\r\n  return x + Math.floor((y-x+1)*Math.random());\r\n}\r\n\r\nclass Question extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = this.generate();\r\n    this.state = {...this.state,\r\n      'guess':'',\r\n      'streak':0,\r\n      'problemTypes': {'Addition': true, 'Subtraction': true, 'Multiplication': true, 'Division': true, 'Rounding': true},\r\n      };\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this.keyHandler, false);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"keydown\", this.keyHandler, false);\r\n  }\r\n\r\n  changeGuess = (guess) => {\r\n    if (!isNaN(guess)) {\r\n      this.setState({'guess': guess});\r\n    }\r\n  }\r\n\r\n  submitGuess = () => {\r\n    if (this.state.guess != '') // Prevent blank guesses\r\n    {\r\n      let newStreak = this.state.streak;\r\n      if (this.state.guess == this.state.answer.toString()) {\r\n        newStreak++;\r\n        this.setState({...this.generate(newStreak+1, this.getSelectedProblems()), 'guess':''});\r\n      } else {\r\n        newStreak = 0;\r\n      }\r\n      this.setState({'streak': newStreak});\r\n    }\r\n  }\r\n\r\n  updateCheckbox(problemType, value) {\r\n    var updatedProblemTypes = this.state.problemTypes;\r\n    updatedProblemTypes[problemType] = value;\r\n    this.setState({'problemTypes': updatedProblemTypes});\r\n  }\r\n\r\n  getSelectedProblems() {\r\n    var selected = [];\r\n    for (var problemType in this.state.problemTypes) {\r\n      if (this.state.problemTypes[problemType]) {\r\n        selected.push(problemType);\r\n      }\r\n    }\r\n    return selected;\r\n  }\r\n\r\n  generate(level=1, options=['Addition', 'Subtraction', 'Multiplication', 'Division', 'Rounding'], modifiers=[\"Decimals\"]) {\r\n    const type = choice(options).toLowerCase();\r\n    let question = '0';\r\n    let answer = 0;\r\n    if (type == 'addition') {\r\n      let x = randomInt(level, 5*level);\r\n      let y = randomInt(level, 5*level);\r\n      let shift = 0;\r\n      if (modifiers.includes(\"Decimals\")) {\r\n        const maxDigits = Math.floor(Math.log10(Math.max(x, y)))+1;\r\n        shift = randomInt(0, maxDigits);\r\n      }\r\n      question = (x/10**shift).toString() + '+' + (y/10**shift).toString();\r\n      answer = (x + y)/10**shift;\r\n      console.log(answer);\r\n    } else if (type == 'subtraction') {\r\n      const x = randomInt(level, 5*level);\r\n      const y = randomInt(level, 5*level);\r\n      question = Math.max(x, y).toString() + '-' + Math.min(x, y).toString();\r\n      answer = Math.abs(x - y);\r\n    } else if (type == 'multiplication') {\r\n      const x = randomInt(2, 2+2*level);\r\n      const y = randomInt(2, 2+2*level);\r\n      question = x.toString() + '*' + y.toString();\r\n      answer = x * y;\r\n    } else if (type == 'division') {\r\n      const x = randomInt(2, 2+2*level);\r\n      answer = randomInt(2, 2+2*level);\r\n      question = (x*answer).toString() + '/' + x.toString();\r\n    } else if (type == 'rounding') {\r\n      const place = randomInt(-3, 3);\r\n      const negPlaceNames = [\"ones\", \"tenths\", \"hundredths\", \"thousandths\"];\r\n      const posPlaceNames = [\"ones\", \"tens\", \"hundreds\", \"thousands\"];\r\n      const placeName = place > 0 ? posPlaceNames[place] : negPlaceNames[-place];\r\n      const digits = (place > 0 ? randomInt(place+1, place+Math.floor(level/10)) : randomInt(2-place, 2-place + Math.floor(level/10)));\r\n      const decimalIndex = place > 0 ? 0 : randomInt(1, digits+place-1);\r\n      let decimalString = randomInt(1,9).toString();\r\n      for (let digit = 1; digit < digits; digit++) {\r\n        if (digit == decimalIndex) {\r\n          decimalString += '.';\r\n        }\r\n        decimalString += randomInt(digit != digits-1 ? 0 : 1, 9).toString();\r\n      }\r\n      if (decimalString.slice(-1) == \"5\") {\r\n        if (place > 0) {\r\n          decimalString += \".\";\r\n        }\r\n        decimalString += randomInt(1,9).toString();\r\n      }\r\n      question = \"Round \" + decimalString + \" to the \" + placeName + \" place\";\r\n      answer = Math.round(parseFloat(decimalString)/10**place)/10**(-place);\r\n      if (place >= 0) {\r\n        answer = Math.round(answer)\r\n      }\r\n    }\r\n    return {'question': question, 'answer': answer}\r\n  }\r\n\r\n  keyHandler = (e) => {\r\n    console.log(e);\r\n    if (e.nativeEvent.key === 'Enter') {\r\n      this.submitGuess();\r\n    }\r\n    if (e.nativeEvent.key === 'Backspace') {\r\n      this.changeGuess(this.state.guess.slice(0, -1));\r\n    }\r\n    if ('.0123456789'.includes(e.nativeEvent.key)) {\r\n      this.changeGuess(this.state.guess + e.nativeEvent.key);\r\n    }\r\n  };\r\n\r\n  checkSubmit = (e) => {\r\n    console.log(e);\r\n    if (e.nativeEvent.key === 'Enter') {\r\n      this.submitGuess();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <View style = {{flexDirection:\"row\", flexWrap:\"wrap\"}}>\r\n        {\r\n          Object.keys(this.state.problemTypes).map(problemType =>\r\n            <Pressable\r\n                key={problemType}\r\n                onPress={() => this.updateCheckbox(problemType, !this.state.problemTypes[problemType])} \r\n              >\r\n              <Text style={styles.toggleable}>\r\n                <Text style={{color: this.state.problemTypes[problemType] ? 'green':'red'}}>\r\n                  {problemType}\r\n                </Text>\r\n              </Text>\r\n            </Pressable>\r\n          )\r\n        }\r\n        </View>\r\n        <Text style={styles.bigCenter}>\r\n          {this.state.question}\r\n        </Text>\r\n        <TextInput\r\n          style={styles.bigCenter}\r\n          onChangeText={this.changeGuess}\r\n          onKeyPress={this.checkSubmit}\r\n          value={this.state.guess}\r\n          placeholder=\"Answer\"\r\n          keyboardType=\"numeric\"\r\n        />\r\n        <Pressable style={styles.submitContainer} onPress={this.submitGuess}>\r\n          <Text style={styles.submit}>\r\n            Submit\r\n          </Text>\r\n        </Pressable>\r\n        <Text style={styles.bigCenter}>\r\n          Streak: {this.state.streak}\r\n        </Text>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default function App() {\r\n  return (\r\n    <View style={styles.container}>\r\n      <Question/>\r\n      <StatusBar style=\"auto\" />\r\n    </View>\r\n  );\r\n}\r\n\r\n\r\ndocument.addEventListener('keydown', function(event){\r\n  console.log(`Key: ${event.key} with keycode ${event.keyCode} has been pressed`);\r\n});\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  bigCenter: {\r\n    fontSize: '4vw',\r\n    fontWeight: 'bold',\r\n    padding: '2vw',\r\n    textAlign: 'center',\r\n  },\r\n  submit: {\r\n    fontSize: '3vw',\r\n    color: 'white',\r\n  },\r\n  submitContainer: {\r\n    backgroundColor: 'purple',\r\n    borderRadius: '1vw',\r\n    paddingHorizontal: '3vw',\r\n    paddingVertical: '0.5vw'\r\n  },\r\n  toggleable: {\r\n    fontSize: '1.5vw',\r\n    fontWeight: 'bold',\r\n    padding: '.5vw',\r\n    textAlign: 'center',\r\n  }\r\n});\r\n","import { registerRootComponent } from 'expo';\r\n\r\nimport App from './App';\r\n\r\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\r\n// It also ensures that whether you load the app in Expo Go or in a native build,\r\n// the environment is set up appropriately\r\nregisterRootComponent(App);\r\n"],"sourceRoot":""}